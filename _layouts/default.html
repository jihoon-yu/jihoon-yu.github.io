<!DOCTYPE html>

<html class="no-js" lang="en">
  <head>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

	{{ site.data.settings.basic_settings.site_title }}

	- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Page Info -->
    <link
      rel="shortcut icon"
      href="{{ site.data.settings.basic_settings.favicon_image }}"
    />
    <title>
      {% if page.url == "/" %}{{ site.data.settings.basic_settings.site_title }}
      – {{ page.title }}{% else %}{{ page.title }} – {{
      site.data.settings.basic_settings.site_title }}{% endif %}
    </title>
    <meta name="description" content="{{ page.description }}" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{% if page.url == "/" %}{{
    site.data.settings.basic_settings.site_title }} – {{ page.title }}{% else
    %}{{ page.title }} – {{ site.data.settings.basic_settings.site_title }}{%
    endif %}">
    <meta name="twitter:description" content="{{ page.description }}" />
    <meta
      name="twitter:image:src"
      content="{{ site.url }}{{ page.featured_image }}"
    />

    <!-- Facebook OpenGraph -->
    <meta property="og:title" content="{% if page.url == "/" %}{{
    site.data.settings.basic_settings.site_title }} – {{ page.title }}{% else
    %}{{ page.title }} – {{ site.data.settings.basic_settings.site_title }}{%
    endif %}" />
    <meta property="og:description" content="{{ page.description }}" />
    <meta
      property="og:image"
      content="{{ site.url }}{{ page.featured_image }}"
    />

    {% if site.data.settings.font_settings.font_embed %}
    <!-- Font Embed Code -->
    {{ site.data.settings.font_settings.font_embed }} {% endif %}

    <!-- Styles -->
    <!-- animation css 추가-->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/css/style.css" href="/css/animation.css" />

    <!-- Icons -->
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.1.1/js/solid.js"
      integrity="sha384-GXi56ipjsBwAe6v5X4xSrVNXGOmpdJYZEEh/0/GqJ3JTHsfDsF8v0YQvZCJYAiGu"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.1.1/js/brands.js"
      integrity="sha384-0inRy4HkP0hJ038ZyfQ4vLl+F4POKbqnaUB6ewmU4dWP0ki8Q27A0VFiVRIpscvL"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.1.1/js/fontawesome.js"
      integrity="sha384-NY6PHjYLP2f+gL3uaVfqUZImmw71ArL9+Roi9o+I4+RBqArA2CfW1sJ1wkABFfPe"
      crossorigin="anonymous"
    ></script>

    {% if site.data.settings.advanced_settings.custom_styles %}
    <!-- Custom Styles -->
    {{ site.data.settings.advanced_settings.custom_styles }} {% endif %} {% if
    site.data.settings.advanced_settings.analytics_code %}
    <!-- Analytics Code -->
    {{ site.data.settings.advanced_settings.analytics_code }} {% endif %} {% if
    site.data.settings.advanced_settings.header_js %}
    <!-- Extra Header JS Code -->
    {{ site.data.settings.advanced_settings.header_js }} {% endif %}
  </head>

  <body
    class="loading{% if site.data.settings.advanced_settings.ajax_loading == true %} ajax-loading{% endif %}"
    data-site-url="{{ site.url }}"
    data-page-url="{{ page.url | replace: 'index.html', '' }}"
  >
    {% include header.html %}

    <div class="loader">
      <svg
        width="120"
        height="30"
        viewBox="0 0 120 30"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="15" cy="15" r="15">
          <animate
            attributeName="r"
            from="15"
            to="15"
            begin="0s"
            dur="0.8s"
            values="15;9;15"
            calcMode="linear"
            repeatCount="indefinite"
          />
          <animate
            attributeName="fill-opacity"
            from="1"
            to="1"
            begin="0s"
            dur="0.8s"
            values="1;.5;1"
            calcMode="linear"
            repeatCount="indefinite"
          />
        </circle>
        <circle cx="60" cy="15" r="9" fill-opacity="0.3">
          <animate
            attributeName="r"
            from="9"
            to="9"
            begin="0s"
            dur="0.8s"
            values="9;15;9"
            calcMode="linear"
            repeatCount="indefinite"
          />
          <animate
            attributeName="fill-opacity"
            from="0.5"
            to="0.5"
            begin="0s"
            dur="0.8s"
            values=".5;1;.5"
            calcMode="linear"
            repeatCount="indefinite"
          />
        </circle>
        <circle cx="105" cy="15" r="15">
          <animate
            attributeName="r"
            from="15"
            to="15"
            begin="0s"
            dur="0.8s"
            values="15;9;15"
            calcMode="linear"
            repeatCount="indefinite"
          />
          <animate
            attributeName="fill-opacity"
            from="1"
            to="1"
            begin="0s"
            dur="0.8s"
            values="1;.5;1"
            calcMode="linear"
            repeatCount="indefinite"
          />
        </circle>
      </svg>
    </div>

    <div class="page-loader"></div>

    <div class="page">
      <div class="page__content" data-page-title="{% if page.url == "/" %}{{
      site.data.settings.basic_settings.site_title }} – {{ page.title }}{% else
      %}{{ page.title }} – {{ site.data.settings.basic_settings.site_title }}{%
      endif %}"> {{ content }}
    </div>

    {% include footer.html %}

    <div class="global-popup popup-hidden">
      <div class="popup-overlay"></div>
      <div class="popup-contents">
        <img class="popup-title" src="/images/99_Popup/popup_title.svg" />
        <div class="popup-description">
          This feature is still being prepared. If you
          <br />would like to contact me, please check the <br />contact details
          below.
        </div>
        <div class="popup-contact">
          jihoon.yuu@gmail.com
          <br />+82 10 3894 9395
        </div>
        <div class="popup-button-close">
          <button id="popup-close">Okay</button>
        </div>
      </div>
    </div>

    <!-- Javascript Assets -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/duet-min.js"></script>
    <!--Scroll Animation-->
    <!--1.0 = 100%-->
    <!--<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollTrigger/1.0.5/ScrollTrigger.min.js"></script>
    <script>
      const scrollTrigger = new ScrollTrigger.default();
      scrollTrigger.add("[data-scroll]", {
        once: true,
        offset: {
          element: {
            y: 0.25,
          },
        },
        toggle: {
          class: {
            in: "animate-in",
            out: "animate-out",
          },
        },
      });
    </script>

    <!--Popup-->
    <script>
      const openButton = document.getElementById("sub-menu");
      const modal = document.querySelector(".global-popup");
      const modalContents = document.querySelector(".popup-contents");
      const overlay = modal.querySelector(".popup-overlay");
      const closeButton = modal.querySelector("button");
      //모바일 모달
      const openButtonMobile = document.getElementById("mobile-modal");

      const openModal = () => {
        modal.classList.remove("popup-hidden");
        modalContents.classList.add("popup-show");
        overlay.classList.add("popup-overlay-dim");
        //popup open인 경우 스크롤 불가
        document.body.classList.add("body-stop-scroll");
      };
      const closeModal = () => {
        modal.classList.add("popup-hidden");
        modalContents.classList.remove("popup-show");
        overlay.classList.remove("popup-overlay-dim");
        //popup close클 경우 스크롤 가능
        document.body.classList.remove("body-stop-scroll");
      };

      openButton.addEventListener("click", openModal);
      openButtonMobile.addEventListener("click", openModal);
      closeButton.addEventListener("click", closeModal);
      //모바일 모달 열기
    </script>

    <!--헤더 text scramble-->
    <script>
      class TextScramble {
        constructor(el) {
          this.el = el;
          this.chars = "KwX9cDeT0gkpRVxDaQ";
          this.update = this.update.bind(this);
        }
        setText(newText) {
          const oldText = this.el.innerText;
          const length = Math.max(oldText.length, newText.length);
          const promise = new Promise((resolve) => (this.resolve = resolve));
          this.queue = [];
          for (let i = 0; i < length; i++) {
            const from = oldText[i] || "";
            const to = newText[i] || "";
            const start = Math.floor(Math.random() * 40);
            const end = start + Math.floor(Math.random() * 40);
            this.queue.push({ from, to, start, end });
          }
          cancelAnimationFrame(this.frameRequest);
          this.frame = 0;
          this.update();
          return promise;
        }
        update() {
          let output = "";
          let complete = 0;
          for (let i = 0, n = this.queue.length; i < n; i++) {
            let { from, to, start, end, char } = this.queue[i];
            if (this.frame >= end) {
              complete++;
              output += to;
            } else if (this.frame >= start) {
              if (!char || Math.random() < 0.28) {
                char = this.randomChar();
                this.queue[i].char = char;
              }
              output += `<span class="dud">${char}</span>`;
            } else {
              output += from;
            }
          }
          this.el.innerHTML = output;
          if (complete === this.queue.length) {
            this.resolve();
          } else {
            this.frameRequest = requestAnimationFrame(this.update);
            this.frame++;
          }
        }
        randomChar() {
          return this.chars[Math.floor(Math.random() * this.chars.length)];
        }
      }

      const phrases = [
        "Works",
        "Designs",
        "Graphic",
        "Interface",
        "Thoughts",
        "Interaction",
        "Code",
      ];

      const el = document.querySelector(".random__title");
      const fx = new TextScramble(el);

      let counter = 0;
      const next = () => {
        fx.setText(phrases[counter]).then(() => {
          setTimeout(next, 1800);
        });
        counter = (counter + 1) % phrases.length;
      };

      next();
    </script>

    <!-- scroll progress -->

    <!--
	<script>
		var scene = document.getElementById('js-scene');
        var parallax = new Parallax(scene);
	</script>
	-->
    <!--스크롤 애니메이션 추가-->

    <!--스크롤 애니메이션 조절
	<script>ScrollReveal().reveal('.portfolio-item .portfolio-item__image',{
		delay: 200,
		usedelay: 'onload',
		interval: 80,
		reset: true,
		cleanup: true,
		})
		</script>
	-->

    {% if site.data.settings.advanced_settings.footer_js %}
    <!-- Extra Footer JS Code -->
    {{ site.data.settings.advanced_settings.footer_js }} {% endif %}
  </body>
</html>
